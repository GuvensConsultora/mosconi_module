odoo.define('mosconi_module.hover_modal', function (require) {
  'use strict';

  const publicWidget = require('web.public.widget');

  publicWidget.registry.HoverModal = publicWidget.Widget.extend({
    selector: '.hover-modal-trigger',
    start: function () {
      let timer;

      this.$el.on('mouseenter', () => {
        timer = setTimeout(() => {
          const target = this.$el.attr('data-target');
          if (target) {
            $(target).modal('show');
          }
        }, 3000);
      });

      this.$el.on('mouseleave', () => {
        clearTimeout(timer);
      });

      return this._super.apply(this, arguments);
    },
  });

});
